@model HandleErrorInfo

@{
    ViewBag.Title = "Error";
    var exBase = Model.Exception.GetBaseException();
}

<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
    <h2></h2>
</hgroup>

<div class="row well">
    <div class="col-sm-12">
        <h1>Ha ocurrido un error</h1>
        <div class="row">
            <div class="form-group col-sm-6">
            </div>
        </div>

        <div class="row">

            <div class="form-group panel panel-default col-sm-12">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#stackTrace">
                            Detalles del error
                        </a>
                    </h4>
                </div>
                <div id="stackTrace" class="panel-collapse collapse">
                    <div class="panel-body center">
                        <p class="center col-sm-12">@Model.Exception.Message</p>
                        <!-- Button trigger modal -->
                        <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#myModal">
                            Ver Detalles avanzados de error
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 col-sm-offset-5">
            <input type="button" class="btn btnform btn-primary col-sm-5 ml2 " onclick="history.go(-1);" value="Regresar" />
        </div>
    </div>
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">Error en la aplicaci&oacute;n</h4>
            </div>
            <div class="modal-body">
                <p class="justify table-responsive">
                    @(exBase.ToString())
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>

    </div>
</div>